! -*- bgp -*-
!
! BGP configuration file
!
hostname bgpd
password zebra
!
router bgp 65001
bgp router-id 1.1.1.1
no bgp default ipv4-unicast


!% if router["community"] == "main":
!bgp community-list standard backup permit 65001:110
!% elif router["community"] == "backup":
!bgp community-list standard backup permit 65001:10
!% endif

! 
    
    
    neighbor fde4:1:: remote-as 65001
        neighbor fde4:1:: password 7 P0P1
    
    

    address-family ipv6 unicast
        neighbor fde4:1:: activate
            neighbor fde4:1:: next-hop-self
            neighbor fde4:1:: update-source fde4:1::1

    exit-address-family

! 
    
    
    neighbor fde4:1:200::2 remote-as 65001
        neighbor fde4:1:200::2 password 7 P1LUX0
    
    

    address-family ipv6 unicast
        neighbor fde4:1:200::2 activate
            neighbor fde4:1:200::2 next-hop-self
            neighbor fde4:1:200::2 route-reflector-client
            neighbor fde4:1:200::2 update-source fde4:1::1

    exit-address-family

! 
    
    
    neighbor fde4:1:200::3 remote-as 65001
        neighbor fde4:1:200::3 password 7 P1LUX1
    
    

    address-family ipv6 unicast
        neighbor fde4:1:200::3 activate
            neighbor fde4:1:200::3 next-hop-self
            neighbor fde4:1:200::3 route-reflector-client
            neighbor fde4:1:200::3 update-source fde4:1::1

    exit-address-family

! 
    
    
    neighbor fde4:1:400::4 remote-as 65001
        neighbor fde4:1:400::4 password 7 P1NAM0
    
    

    address-family ipv6 unicast
        neighbor fde4:1:400::4 activate
            neighbor fde4:1:400::4 next-hop-self
            neighbor fde4:1:400::4 route-reflector-client
            neighbor fde4:1:400::4 update-source fde4:1::1

    exit-address-family

! 
    
    
    neighbor fde4:1:400::5 remote-as 65001
        neighbor fde4:1:400::5 password 7 P1NAM1
    
    

    address-family ipv6 unicast
        neighbor fde4:1:400::5 activate
            neighbor fde4:1:400::5 next-hop-self
            neighbor fde4:1:400::5 route-reflector-client
            neighbor fde4:1:400::5 update-source fde4:1::1

    exit-address-family

! 
    
    
    neighbor fde4:1:600::6 remote-as 65001
        neighbor fde4:1:600::6 password 7 P1LG0
    
    

    address-family ipv6 unicast
        neighbor fde4:1:600::6 activate
            neighbor fde4:1:600::6 next-hop-self
            neighbor fde4:1:600::6 route-reflector-client
            neighbor fde4:1:600::6 update-source fde4:1::1

    exit-address-family

! 
    
    
    neighbor fde4:1:600::7 remote-as 65001
        neighbor fde4:1:600::7 password 7 P1LG1
    
    

    address-family ipv6 unicast
        neighbor fde4:1:600::7 activate
            neighbor fde4:1:600::7 next-hop-self
            neighbor fde4:1:600::7 route-reflector-client
            neighbor fde4:1:600::7 update-source fde4:1::1

    exit-address-family

! 
    
    
    neighbor fde4:1:800::8 remote-as 65001
        neighbor fde4:1:800::8 password 7 P1BW0
    
    

    address-family ipv6 unicast
        neighbor fde4:1:800::8 activate
            neighbor fde4:1:800::8 next-hop-self
            neighbor fde4:1:800::8 route-reflector-client
            neighbor fde4:1:800::8 update-source fde4:1::1

    exit-address-family

! 
    
    
    neighbor fde4:1:800::9 remote-as 65001
        neighbor fde4:1:800::9 password 7 P1BW1
    
    

    address-family ipv6 unicast
        neighbor fde4:1:800::9 activate
            neighbor fde4:1:800::9 next-hop-self
            neighbor fde4:1:800::9 route-reflector-client
            neighbor fde4:1:800::9 update-source fde4:1::1

    exit-address-family

! 
    
    
    neighbor fde4::5:dead remote-as 65005
        neighbor fde4::5:dead password 7 ASes6500165005XXX
        neighbor fde4::5:dead interface P1-eth5
    
    

    address-family ipv6 unicast
        neighbor fde4::5:dead activate
                network fde4:1::/32
            !% if bgp_neighbor["input-whitelist"] != []:
            !    neighbor fde4::5:dead prefix-list peer-65005-in in
            !% endif
            
            !% if bgp_neighbor["output-whitelist"] != []:
            !    neighbor fde4::5:dead prefix-list peer-65005-out out
            !%endif

    exit-address-family

            ip prefix-list peer-65005-out permit fde4:1::/32

            ip prefix-list peer-65005-in permit fde4:5::/32

